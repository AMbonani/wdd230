<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abigail Maimela - WDD 230 - Web Frontend Development</title>
    <meta name="description" content="WDD 230 - Web Frontend Development. Abigail Maimela's course assignment portal. Learn about web development and more.">
    <meta name="author" content="Abigail Maimela">
    <link rel="icon" href="favicon.ico">

    <meta property="og:title" content="Abigail Maimela - Web Frontend Development">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://stock.adobe.com/za/search?k=pretoria%20city">
    <meta property="og:url" content="https://www.holidify.com/places/pretoria/photos.html">

    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/larger.css">
    

    <link rel="stylesheet" href="https://codepen.io/blazzard-jason/pen/BaOwMvg">
    <link rel="stylesheet" href="https://codepen.io/AMbonani/pen/wvNOBjE">
</head>

<body>

    <header>
        <img src="images/pretoria.PNG" alt="WebP Landscape">
        <h1 id="fullName">Abigail Maimela</h1>
        <button id="darkModeToggle">Toggle Dark Mode</button>
    </header>

    <nav>
        <ul>
            <li><a href="home">Home</a></li>
            <li><a href="chamber">Chamber</a></li>
            <li><a href="week01/chamber-site-plan.html">Site plan</a></li>
            <li><a href="form.html">form</a></li>
        </ul>
    </nav>

    <main>        
        <button id="toggleViewButton">Toggle View</button>
        <div id="membersContainer" class="grid-view"></div> <!-- Close the div tag here -->
    </main>

    <footer>
        <p>&copy; <span id="currentYear"></span> <span id="footerFullName">Abigail Maimela</span> [South Africa]</p>
        <p id="lastModified"></p>
    </footer>

    <script>
        document.getElementById('fullName').innerText = 'Abigail Maimela';
        document.getElementById('footerFullName').innerText = 'Abigail Maimela';

        const darkModeToggle = document.getElementById('darkModeToggle');
        const mainElement = document.querySelector('main');

        darkModeToggle.addEventListener('click', () => {
            mainElement.classList.toggle('dark-mode');
        });

        const visitCounter = document.getElementById('visitCounter');
        let visits = localStorage.getItem('visits') || 0;
        visits = parseInt(visits);
        visits++;
        localStorage.setItem('visits', visits.toString());
        visitCounter.textContent = visits;

        async function fetchMemberData() {
            try {
                // Fetch data from the JSON file
                const response = await fetch('data/members.json');
                const membersData = await response.json();

                // Get the membersContainer
                const membersContainer = document.getElementById('membersContainer');

                // Clear existing content in the container
                membersContainer.innerHTML = '';

                // Loop through each member and create a card
                membersData.members.forEach(member => {
                    const memberCard = document.createElement('div');
                    memberCard.classList.add('member-card');

                    // Add member information to the card
                    memberCard.innerHTML = `
                        <img src="${member.image}" alt="${member.name} Image">
                        <div class="member-details">
                            <h2>${member.name}</h2>
                            <p><strong>Address:</strong> ${member.address}</p>
                            <p><strong>Phone:</strong> ${member.phone}</p>
                            <p><strong>Website:</strong> <a href="${member.website}" target="_blank">${member.website}</a></p>
                            <p><strong>Membership Level:</strong> ${member.membership_level}</p>
                            <p><strong>Other Info:</strong> ${member.other_info}</p>
                        </div>
                    `;

                    // Append the card to the container
                    membersContainer.appendChild(memberCard);
                });
            } catch (error) {
                console.error('Error fetching member data:', error);
            }
        }

        // Initial fetch and display
        fetchMemberData();
    </script>
</body>

</html>






